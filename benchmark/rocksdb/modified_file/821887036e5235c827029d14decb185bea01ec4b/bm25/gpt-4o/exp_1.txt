一句总结：此次修改主要对边界条件初始化、检测逻辑及注释进行了简化和风格上的优化，从而使代码结构更清晰、易读，同时提高了对空输出处理和错误检测的健壮性。