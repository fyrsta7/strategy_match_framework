该函数增加了对listeners是否为空的判断，并将for循环迭代方式改为使用const引用，目的在于避免无效循环调用并提高代码的健壮性和效率。