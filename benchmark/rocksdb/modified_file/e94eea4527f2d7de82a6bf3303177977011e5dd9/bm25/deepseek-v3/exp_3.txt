修改后的函数在执行清空操作前先判断内部数据是否为空，避免了对空数据进行重复清理和内存重新分配，从而提升了性能和代码健壮性。