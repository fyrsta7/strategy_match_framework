修改后的函数先判断输出级别+1是否越界，只有在判断通过后才进行范围计算和获取重叠文件，目的是避免不必要的计算和潜在越界，从而优化性能和稳定性。