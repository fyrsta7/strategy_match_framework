一句总结：函数修改中引入了局部变量提升可读性，并在查找重叠祖父文件前先清空目标数组，以防旧数据干扰并增强代码健壮性。